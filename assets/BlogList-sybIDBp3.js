import{d as Q,r as m,B as p,A as G,o as H,c as o,b as t,q as u,O as a,x as B,y as J,P as K,F as f,L as k,u as i,t as $,l as W,i as l,s as F,_ as X}from"./index-CJBnA0Xv.js";import{u as Y}from"./use-blog-Cg2fLRo5.js";const Z={class:"blog-container"},ee={class:"blog-controls"},te={class:"search-container"},se={class:"filters-container"},oe=["value"],le={class:"blog-tags"},ae=["onClick"],ne={key:0,class:"search-info"},re={key:1,class:"blog-loading"},ue={key:2,class:"blog-error"},ie={key:3,class:"posts-grid"},ce=["onClick"],de={class:"post-meta"},ve={key:0,class:"blog-badge blog-badge-featured"},ge={class:"blog-badge blog-badge-reading-time"},be={class:"excerpt"},he={class:"post-footer"},me={class:"post-tags"},_e=["onClick"],pe={key:0,class:"tag-more"},fe={key:0,class:"post-author"},ke=["onClick"],ye={key:4,class:"empty-state"},Ce={key:5,class:"blog-pagination"},Pe=["disabled"],$e={class:"blog-page-info"},xe=["disabled"],T="Commits & Conjurations",x=9,Ae=Q({__name:"BlogList",setup(Be){const w=W(),{posts:L,postsLoading:y,error:_,allTags:S,allAuthors:D,loadPosts:M,filterPostsByFilters:N}=Y(),c=m(""),d=m(""),g=m(""),b=m(!1),r=m(1),A=p(()=>({search:c.value,tag:d.value||void 0,author:g.value||void 0,featured:b.value||void 0})),v=p(()=>N(A.value)),C=p(()=>Math.ceil(v.value.length/x)),V=p(()=>{const n=(r.value-1)*x,s=n+x;return v.value.slice(n,s)}),O=n=>L.value.filter(s=>{var e;return(e=s.frontmatter.tags)==null?void 0:e.includes(n)}).length,U=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),j=()=>{r.value=1},I=()=>{c.value=""},R=n=>{d.value=n,r.value=1},q=n=>{g.value=n,r.value=1},z=()=>{c.value="",d.value="",g.value="",b.value=!1,r.value=1},E=n=>{w.push(`/blog/${n}`)};return G(A,()=>{r.value=1}),H(()=>{document.title=`${T} - Blog`,M()}),(n,s)=>(l(),o("div",Z,[t("header",{class:"blog-header"},[t("h1",null,a(T)),s[6]||(s[6]=t("p",null,"Crafting code, weaving algorithms, and brewing solutions in the realm of technology",-1))]),t("div",ee,[t("div",te,[B(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),type:"text",placeholder:"Search posts...",class:"blog-input search-input",onInput:j},null,544),[[J,c.value]]),c.value?(l(),o("button",{key:0,onClick:I,class:"clear-search"},"✕")):u("",!0)]),t("div",se,[B(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>g.value=e),class:"blog-input filter-select"},[s[7]||(s[7]=t("option",{value:""},"All Authors",-1)),(l(!0),o(f,null,k(i(D),e=>(l(),o("option",{key:e,value:e},a(e),9,oe))),128))],512),[[K,g.value]]),t("button",{onClick:s[2]||(s[2]=e=>b.value=!b.value),class:$([{active:b.value},"blog-btn blog-btn-secondary featured-toggle"])}," Featured Only ",2)])]),t("div",le,[t("button",{onClick:s[3]||(s[3]=e=>d.value=""),class:$([{active:!d.value},"blog-tag tag-btn"])}," All Posts ("+a(v.value.length)+") ",3),(l(!0),o(f,null,k(i(S),e=>(l(),o("button",{key:e,onClick:P=>d.value=e,class:$([{active:d.value===e},"blog-tag tag-btn"])},a(e)+" ("+a(O(e))+") ",11,ae))),128))]),c.value?(l(),o("div",ne,[t("p",null," Found "+a(v.value.length)+" result"+a(v.value.length!==1?"s":"")+' for "'+a(c.value)+'" ',1)])):u("",!0),i(y)?(l(),o("div",re,"Loading posts...")):u("",!0),i(_)?(l(),o("div",ue,a(i(_)),1)):u("",!0),!i(y)&&!i(_)?(l(),o("div",ie,[(l(!0),o(f,null,k(V.value,e=>{var P;return l(),o("article",{key:e.slug,class:"blog-card post-card",onClick:h=>E(e.slug)},[t("div",de,[t("time",null,a(U(e.frontmatter.date)),1),e.frontmatter.featured?(l(),o("span",ve," Featured ")):u("",!0),t("span",ge,a(e.readingTime)+" min read",1)]),t("h2",null,a(e.frontmatter.title),1),t("p",be,a(e.frontmatter.excerpt),1),t("div",he,[t("div",me,[(l(!0),o(f,null,k((P=e.frontmatter.tags)==null?void 0:P.slice(0,3),h=>(l(),o("span",{key:h,class:"blog-tag tag",onClick:F(Fe=>R(h),["stop"])},a(h),9,_e))),128)),e.frontmatter.tags&&e.frontmatter.tags.length>3?(l(),o("span",pe," +"+a(e.frontmatter.tags.length-3),1)):u("",!0)]),e.frontmatter.author?(l(),o("div",fe,[t("span",{onClick:F(h=>q(e.frontmatter.author),["stop"])}," by "+a(e.frontmatter.author),9,ke)])):u("",!0)]),s[8]||(s[8]=t("div",{class:"read-more"},"Read more →",-1))],8,ce)}),128))])):u("",!0),!i(y)&&!i(_)&&v.value.length===0?(l(),o("div",ye,[s[9]||(s[9]=t("h3",null,"No posts found",-1)),s[10]||(s[10]=t("p",null,"Try adjusting your search or filter criteria.",-1)),t("button",{onClick:z,class:"blog-btn blog-btn-primary"},"Clear All Filters")])):u("",!0),C.value>1?(l(),o("div",Ce,[t("button",{onClick:s[4]||(s[4]=e=>r.value--),disabled:r.value===1,class:"blog-page-btn"}," Previous ",8,Pe),t("span",$e," Page "+a(r.value)+" of "+a(C.value),1),t("button",{onClick:s[5]||(s[5]=e=>r.value++),disabled:r.value===C.value,class:"blog-page-btn"}," Next ",8,xe)])):u("",!0)]))}}),Le=X(Ae,[["__scopeId","data-v-5a219399"]]);export{Le as default};
